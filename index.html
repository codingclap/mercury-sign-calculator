<style>
    * {
        margin: 0px;
        padding: 0px;
    }
     
    @font-face {
        font-family: 'Cabin Medium';
        src: url('infographics/fonts/Cabin-Medium.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Cabin Regular';
        src: url('infographics/fonts/Cabin-Regular.ttf') format('truetype');
        font-weight: 400;
    }

    @font-face {
        font-family: 'Cabin Bold';
        src: url('infographics/fonts/Cabin-Bold.ttf') format('truetype');
    }

    @font-face {
        font-family: 'Dancing Script';
        src: url('infographics/fonts/DancingScript.ttf') format('truetype');
    }

    #mercury-calculator {
        --container-max-width: 980px;
        --divider-max-width: 980px;
        --primary-color: #fff;
        --secondary-color: #f4954e;
        --btn-text-color: #4c1c1c;
        --input-bg-color: rgba(240, 184, 121, 0.2);
        --input-border-color: #fff7;
    }

    #mercury-calculator {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-size: clamp(16px, calc(5vw + 0.5rem), 20px);
        text-align: center;
        background-size: cover !important;
        background-repeat: no-repeat !important;
        background-attachment: fixed !important;
        color: var(--primary-color);
        font-family: 'Cabin Regular';
        min-height: 100vh;
    }

    :where(#mercury-calculator *) {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    .mercury-header {
        height: 4vh;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .mercury-main {
        width: min(90%, var(--container-max-width));
        margin: 0 auto;
    }

    .mercury-header img {
        height: min(50px, 10vh);
    }

    .mercury-main>#mercury-input-container,
    .mercury-main>#mercury-result-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: top;
        margin: 0 auto;
        margin-top: 1em;
    }

    /* Inputs */
    #mercury-horoscope-form {
        text-align: start;
        width: min(90%, calc(var(--container-max-width) * 0.8));
        margin-top: 2em;
    }

    #mercury-horoscope-form fieldset {
        display: flex;
        align-items: center;
        justify-content: start;
        gap: 1em;
        width: 100%;
        margin: 0.5em auto;
        border: none;
    }

    @media (max-width: 500px) {
        #mercury-horoscope-form fieldset {
            flex-direction: column;
            gap: 0.5em;
        }
    }

    #mercury-horoscope-form fieldset>label {
        font-size: 1.07em;
        white-space: nowrap;
        width: 98px;
        display: inline-block;
        font-family: 'Cabin Bold';
    }

    .mercury-inputs-container {
        display: flex;
        flex: 1 1 auto;
        width: 100%;
    }

    #mercury-input-container .h1 {
        font-family: 'Dancing Script';
        font-size: 3.5em;
        margin: 0 auto;
        padding: 0;
        color: #f4954e;
    }

    #mercury-input-container p {
        font-size: 1em;
        margin: 1.5em 2em auto;
        line-height: 30px;
    }

    .mercury-inputs-container input,
    .mercury-inputs-container select {
        width: 100%;
        height: 2em;
        border: 1.9px solid #fff;
        border-radius: 5px;
        padding-left: 0.5em;
        background-color: #365ea51a;
        color: var(--primary-color);
        font-size: 1em;
        text-align: start;
        margin: 0 0.2em;
        cursor: pointer;
        transition: background-color 0.25s linear;
        font-family: 'Cabin Bold';
    }

    .mercury-inputs-container input:hover,
    .mercury-inputs-container select:hover,
    .mercury-inputs-container input:active,
    .mercury-inputs-container select:active {
        background-color: #fff2;
    }

    .mercury-inputs-container option {
        color: black;
        background-color: white;
        max-height: 300px;
    }

    #mercury-result-container .h1 {
        font-family: 'Dancing Script';
        font-size: 3.5em;
        margin: 0 auto;
        padding: 0;
        color: #f4954e;
    }

    #mercury-submit-button {
        text-align: center;
        font-size: 1.12em;
    }

    #mercury-place-container {
        position: relative;
        width: 100%;
    }

    #mercury-place-input-container {
        flex-wrap: wrap;
    }

    #mercury-place-suggestions {
        position: absolute;
        background: var(--primary-color);
        color: black;
        list-style: none;
        padding: 0;
        max-height: 200px;
        overflow-y: scroll;
        width: 100%;
        z-index: 1;
    }

    #mercury-place-suggestions li {
        padding: 0.4em;
        cursor: pointer;
        border-bottom: 2px solid #ccc;
        padding-left: 1em;
        padding-right: 1em;
    }

    #mercury-place-suggestions li:hover {
        background: var(--secondary-color);
        color: var(--primary-color);
    }

    #mercury-submit-button {
        justify-content: center !important;
    }

    #mercury-submit-button input {
        font-size: 1em;
        padding: 0.4em 1.5em;
        color: var(--btn-text-color);
        background: #f4954e;
        border: none;
        margin-top: 2em;
        cursor: pointer;
        font-family: 'Cabin Bold';
        border-radius: 40px;
    }

    #mercury-jump-btn button {
        font-size: 1.1em;
        padding: 0.7em 2.5em 0.7em 1.3em;
        color: #0c0c0c;
        background: #f4954e;
        border: none;
        margin-top: 2em;
        margin-bottom: 2em;
        cursor: pointer;
        font-family: 'Cabin Bold';
        border-radius: 40px;
        position: relative;
    }

    #mercury-jump-btn button:after {
        position: absolute;
        content: " ";
        background-image: url(infographics/images/arrow.svg);
        background-repeat: no-repeat;
        height: 29px;
        width: 16px;
        right: 23px;
        top: 15px;
    }

    #mercury-submit-button input:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }

    #mercury-submit-button input:focus {
        background: var(--secondary-color);
        opacity: 0.9;
    }

    .mercury-hidden {
        display: none !important;
    }

    .anime-hidden {
        animation: fadeOut 2s forwards;
    }

    .anime-visible {
        animation: fadeIn 1s forwards;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
            visibility: hidden;
        }

        to {
            opacity: 1;
            visibility: visible;
        }
    }

    @keyframes fadeOut {
        from {
            opacity: 1;
            visibility: visible;
        }

        to {
            opacity: 0;
            visibility: hidden;
        }
    }

    /* Result */
    #mercury-result-container {
        font-size: 1em;
    }

    #mercury-result {
        width: min(100%, var(--container-max-width));
        padding: 1.5em 2em 1.3em 2em;
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 2.5em;
        border: 1px solid #85909b;
        border-radius: 0em;
        margin: 0.2em 1em 2em 1em;
    }

    #mercury-result .mercury-result-box {
        display: flex;
        width: 100%;
        flex-direction: column;
        max-width: 252px;
        justify-content: start;
        align-items: center;
        gap: 2px;
        position: relative;
        min-height: 220px;
    }


    #mercury-result .mercury-result-box:after {
        position: absolute;
        content: "";
        height: 100%;
        border-right: 1px solid #85909b;
        right: -25px;
    }

    #mercury-result .mercury-result-box:last-child:after {
        border: 0px solid black;
    }

    #mercury-result .mercury-result-box .mercury-result-img {
        width: 100px;
    }

    #mercury-result .mercury-result-box h3.mercury-result-head {
        font-family: 'Cabin Bold';
        font-size: 1.4em;
        line-height: 1.5em;
        color: #f4954e;
        padding: 5px 0px 0px;
    }

    #mercury-result .mercury-result-box p.mercury-result-para {
        font-family: 'Cabin Regular';
        font-size: 1.1em;
        line-height: 1.2em;
        color: #ffffff;
        padding: 4px 0px 0px;
    }



    #mercury-result .column-separator {
        align-self: normal;
        width: 112px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    @media (max-width: 900px) {
        #mercury-result {
            flex-direction: column;
            padding: 1em 0.5em;
        }

        #mercury-result .column-separator {
            display: none;
        }

        #mercury-result .mercury-result-box:after {
            position: absolute;
            content: "";
            height: 100%;
            border-right: 0px;
            right: 0px;
            border-bottom: 1px solid #85909b;
            top: 25px;
            width: 100%;
        }
    }

    #mercury-result .column-separator img {
        width: 100%;
        height: 100%;
    }

    #mercury-mercury-sign {
        font-family: 'Dancing Script';
        font-size: 3em;
        margin-bottom: 0.2em;
        color: var(--secondary-color);
    }

    #mercury-zodiac-sign-image img {
        width: min(80vw, 120px);
        min-width: 120px;
    }

    #mercury-zodiac-details {
        text-align: start;
        padding: 1em;
    }

    #mercury-zodiac-description {
        font-family: 'Cabin Regular';
        font-size: 1em;
        line-height: 1.5em;
    }

    #mercury-result-container>p {
        width: min(100%, var(--container-max-width));
        line-height: 1.5em;
    }

    #mercury-retry p {
        cursor: pointer;
        color: var(--secondary-color, orange);
        margin: 1em auto;
        font-family: 'Cabin Bold';
    }

    #mercury-left-arrow {
        font-size: 1.5em;
        font-weight: bold;
    }

    #mercury-retry p {
        animation: slideHorizontally 0.5s ease-in-out 0ms infinite forwards alternate;
    }

    @keyframes slideHorizontally {
        0% {
            transform: translateX(0px);
        }

        100% {
            transform: translateX(-10px);
        }
    }

    #mercury-divider {
        width: min(100%, var(--divider-max-width));
        margin: 0.5em auto;
    }

    #mercury-resources>.mercury-resource-links {
        margin-top: 0.2em;
        margin-bottom: 0.5em;
    }

    #mercury-resources>.mercury-resource-links>a {
        color: var(--primary-color);
        text-decoration: none;
        font-size: 0.8em;
        margin: 0;
        display: inline-block;
        margin-bottom: 5px;
    }

    .mercury-loader {
        background-color: transparent;
        width: 100vw;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        position: fixed;
        top: 0;
        left: 0;
        z-index: 9999;
    }

    .mercury-loader>figure {
        width: 300px;
        height: 300px;
        border-radius: 50%;
        background-color: transparent;
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 0 auto;
        animation: spin 1s infinite linear;
    }

    .mercury-loader>figure>img {
        width: 100%;
        height: 100%;
    }
</style>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<div id="mercury-calculator" class="mercury-container" style="background: url(infographics/images/BG-1.jpg)">
    <div class="mercury-loader anime-hidden">
        <figure class="mercury-loading-images"></figure>
    </div>
    <div class="mercury-header"> </div>
    <div class="mercury-main">

        <!--------------------------------- First Page End ---------------------------------->
        <div id="mercury-input-container" class="">
            <img src="infographics/images/PS-logo.png" width="280px"><br>
            <h2 class="h1" style="width:80%">Mercury Sign Calculator</h2>
            <img src="infographics/images/underline.svg" width="87%">
            <p style="width:80%">mercury rules over intellect and communication. Its position in your chart says a lot
                about how you think and analyze things. Understanding where mercury is in your chart can give you
                powerful insights into the best career choices for your particular skills. </p>
            <form id="mercury-horoscope-form" data-gtm-form-interact-id="0">
                <fieldset id="mercury-birth_date"><label for="mercury-birth_date">Birth Date:</label>
                    <div class="mercury-inputs-container"><label hidden="" for="mercury-month">Month:</label><select
                            id="mercury-month" name="month" required="" data-gtm-form-interact-field-id="0">
                            <option hidden="" disabled="disabled" selected="selected" value="">MM</option>
                            <option value="01">January</option>
                            <option value="02">February</option>
                            <option value="03">March</option>
                            <option value="04">April</option>
                            <option value="05">May</option>
                            <option value="06">June</option>
                            <option value="07">July</option>
                            <option value="08">August</option>
                            <option value="09">September</option>
                            <option value="10">October</option>
                            <option value="11">November</option>
                            <option value="12">December</option>
                        </select><label hidden="" for="mercury-day">Day:</label><select id="mercury-day" name="day"
                            required="" data-gtm-form-interact-field-id="1">
                            <option hidden="" disabled="disabled" selected="selected" value="">DD</option>
                            <option value="01">01</option>
                            <option value="02">02</option>
                            <option value="03">03</option>
                            <option value="04">04</option>
                            <option value="05">05</option>
                            <option value="06">06</option>
                            <option value="07">07</option>
                            <option value="08">08</option>
                            <option value="09">09</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="12">12</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                            <option value="19">19</option>
                            <option value="20">20</option>
                            <option value="21">21</option>
                            <option value="22">22</option>
                            <option value="23">23</option>
                            <option value="24">24</option>
                            <option value="25">25</option>
                            <option value="26">26</option>
                            <option value="27">27</option>
                            <option value="28">28</option>
                            <option value="29">29</option>
                            <option value="30">30</option>
                            <option value="31">31</option>
                        </select><label hidden="" for="mercury-year">Year:</label><select id="mercury-year" name="year"
                            required="" data-gtm-form-interact-field-id="2">
                            <option hidden="" disabled="disabled" selected="selected" value="">YYYY</option>
                            <option value="2023">2023</option>
                            <option value="2022">2022</option>
                            <option value="2021">2021</option>
                            <option value="2020">2020</option>
                            <option value="2019">2019</option>
                            <option value="2018">2018</option>
                            <option value="2017">2017</option>
                            <option value="2016">2016</option>
                            <option value="2015">2015</option>
                            <option value="2014">2014</option>
                            <option value="2013">2013</option>
                            <option value="2012">2012</option>
                            <option value="2011">2011</option>
                            <option value="2010">2010</option>
                            <option value="2009">2009</option>
                            <option value="2008">2008</option>
                            <option value="2007">2007</option>
                            <option value="2006">2006</option>
                            <option value="2005">2005</option>
                            <option value="2004">2004</option>
                            <option value="2003">2003</option>
                            <option value="2002">2002</option>
                            <option value="2001">2001</option>
                            <option value="2000">2000</option>
                            <option value="1999">1999</option>
                            <option value="1998">1998</option>
                            <option value="1997">1997</option>
                            <option value="1996">1996</option>
                            <option value="1995">1995</option>
                            <option value="1994">1994</option>
                            <option value="1993">1993</option>
                            <option value="1992">1992</option>
                            <option value="1991">1991</option>
                            <option value="1990">1990</option>
                            <option value="1989">1989</option>
                            <option value="1988">1988</option>
                            <option value="1987">1987</option>
                            <option value="1986">1986</option>
                            <option value="1985">1985</option>
                            <option value="1984">1984</option>
                            <option value="1983">1983</option>
                            <option value="1982">1982</option>
                            <option value="1981">1981</option>
                            <option value="1980">1980</option>
                            <option value="1979">1979</option>
                            <option value="1978">1978</option>
                            <option value="1977">1977</option>
                            <option value="1976">1976</option>
                            <option value="1975">1975</option>
                            <option value="1974">1974</option>
                            <option value="1973">1973</option>
                            <option value="1972">1972</option>
                            <option value="1971">1971</option>
                            <option value="1970">1970</option>
                            <option value="1969">1969</option>
                            <option value="1968">1968</option>
                            <option value="1967">1967</option>
                            <option value="1966">1966</option>
                            <option value="1965">1965</option>
                            <option value="1964">1964</option>
                            <option value="1963">1963</option>
                            <option value="1962">1962</option>
                            <option value="1961">1961</option>
                            <option value="1960">1960</option>
                            <option value="1959">1959</option>
                            <option value="1958">1958</option>
                            <option value="1957">1957</option>
                            <option value="1956">1956</option>
                            <option value="1955">1955</option>
                            <option value="1954">1954</option>
                            <option value="1953">1953</option>
                            <option value="1952">1952</option>
                            <option value="1951">1951</option>
                            <option value="1950">1950</option>
                            <option value="1949">1949</option>
                            <option value="1948">1948</option>
                            <option value="1947">1947</option>
                            <option value="1946">1946</option>
                            <option value="1945">1945</option>
                            <option value="1944">1944</option>
                            <option value="1943">1943</option>
                            <option value="1942">1942</option>
                            <option value="1941">1941</option>
                            <option value="1940">1940</option>
                            <option value="1939">1939</option>
                            <option value="1938">1938</option>
                            <option value="1937">1937</option>
                            <option value="1936">1936</option>
                            <option value="1935">1935</option>
                            <option value="1934">1934</option>
                            <option value="1933">1933</option>
                            <option value="1932">1932</option>
                            <option value="1931">1931</option>
                            <option value="1930">1930</option>
                            <option value="1929">1929</option>
                            <option value="1928">1928</option>
                            <option value="1927">1927</option>
                            <option value="1926">1926</option>
                            <option value="1925">1925</option>
                            <option value="1924">1924</option>
                            <option value="1923">1923</option>
                            <option value="1922">1922</option>
                            <option value="1921">1921</option>
                            <option value="1920">1920</option>
                            <option value="1919">1919</option>
                            <option value="1918">1918</option>
                            <option value="1917">1917</option>
                            <option value="1916">1916</option>
                            <option value="1915">1915</option>
                            <option value="1914">1914</option>
                            <option value="1913">1913</option>
                            <option value="1912">1912</option>
                            <option value="1911">1911</option>
                            <option value="1910">1910</option>
                            <option value="1909">1909</option>
                            <option value="1908">1908</option>
                            <option value="1907">1907</option>
                            <option value="1906">1906</option>
                            <option value="1905">1905</option>
                            <option value="1904">1904</option>
                            <option value="1903">1903</option>
                            <option value="1902">1902</option>
                            <option value="1901">1901</option>
                        </select></div>
                </fieldset>
                <fieldset id="mercury-birth_time"><label for="mercury-birth_time">Birth Time: </label>
                    <div class="mercury-inputs-container"><label hidden="" for="mercury-hour">hour:</label><select
                            id="mercury-hour" name="hour" required="" data-gtm-form-interact-field-id="4">
                            <option hidden="" disabled="disabled" selected="selected" value="">HH</option>
                            <option value="01">01</option>
                            <option value="02">02</option>
                            <option value="03">03</option>
                            <option value="04">04</option>
                            <option value="05">05</option>
                            <option value="06">06</option>
                            <option value="07">07</option>
                            <option value="08">08</option>
                            <option value="09">09</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="00">12</option>
                        </select><label hidden="" for="mercury-minute">minute:</label><select id="mercury-minute"
                            name="minute" required="" data-gtm-form-interact-field-id="3">
                            <option hidden="" disabled="disabled" selected="selected" value="">MM</option>
                            <option value="00">00</option>
                            <option value="01">01</option>
                            <option value="02">02</option>
                            <option value="03">03</option>
                            <option value="04">04</option>
                            <option value="05">05</option>
                            <option value="06">06</option>
                            <option value="07">07</option>
                            <option value="08">08</option>
                            <option value="09">09</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="12">12</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                            <option value="19">19</option>
                            <option value="20">20</option>
                            <option value="21">21</option>
                            <option value="22">22</option>
                            <option value="23">23</option>
                            <option value="24">24</option>
                            <option value="25">25</option>
                            <option value="26">26</option>
                            <option value="27">27</option>
                            <option value="28">28</option>
                            <option value="29">29</option>
                            <option value="30">30</option>
                            <option value="31">31</option>
                            <option value="32">32</option>
                            <option value="33">33</option>
                            <option value="34">34</option>
                            <option value="35">35</option>
                            <option value="36">36</option>
                            <option value="37">37</option>
                            <option value="38">38</option>
                            <option value="39">39</option>
                            <option value="40">40</option>
                            <option value="41">41</option>
                            <option value="42">42</option>
                            <option value="43">43</option>
                            <option value="44">44</option>
                            <option value="45">45</option>
                            <option value="46">46</option>
                            <option value="47">47</option>
                            <option value="48">48</option>
                            <option value="49">49</option>
                            <option value="50">50</option>
                            <option value="51">51</option>
                            <option value="52">52</option>
                            <option value="53">53</option>
                            <option value="54">54</option>
                            <option value="55">55</option>
                            <option value="56">56</option>
                            <option value="57">57</option>
                            <option value="58">58</option>
                            <option value="59">59</option>
                        </select><label hidden="" for="mercury-phase">AM/PM</label><select id="mercury-phase" name="phase"
                            required="" data-gtm-form-interact-field-id="5">
                            <option selected="selected" value="am">AM</option>
                            <option value="pm">PM</option>
                        </select></div>
                </fieldset>
                <fieldset id="mercury-birth_place"><label for="mercury-place">Birth Place: </label>
                    <div class="mercury-inputs-container" id="mercury-place-input-container"><input name="place" type="text"
                            data-gtm-form-interact-field-id="6">
                        <div id="mercury-place-container"></div>
                    </div>
                </fieldset>
                <fieldset id="mercury-submit-button"><input type="submit" value="Submit" disabled=""></fieldset>
            </form>
        </div>
        <!--------------------------------- First Page End ---------------------------------->

        <!--------------------------------- Second Page ---------------------------------->
        <div id="mercury-result-container" class="mercury-hidden">
            <img src="infographics/images/PS-logo.png" width="280px">
            <div id="mercury-zodiac-sign-image" style="padding:1em 0em;"></div>
            <!-- <img id="mercury-main-img" src="infographics/images/first-house-img.svg" width="130px"
                style="padding:1em 0em;"> -->
            <h2 class="h1" id="mercury-main-heading" style="width:80%">mercury in the First House</h2>
            <img src="infographics/images/result-heading-img.svg" width="30%" style="padding:1em 0em;">

            <div id="mercury-result">
                 <!-- <div id="mercury-zodiac-sign-image"></div> -->
                <!-- <div class="column-separator"><img
                        src="sinfographics/images/column-separator.png" alt="|"
                        loading="lazy"></div>
                <div id="mercury-zodiac-details">
                    <h2 id="mercury-mercury-sign"></h2>
                     <p id="mercury-zodiac-description"></p> 
                </div>  -->

                <div class="mercury-result-box">
                    <img class="mercury-result-img" src="infographics/images/talent.svg" alt="">
                    <h3 class="mercury-result-head">Talents</h3>
                    <p class="mercury-result-para" id="talents">Memorization, solving puzzles</p>
                </div>
                <div class="mercury-result-box">
                    <img class="mercury-result-img" src="infographics/images/Strengths.svg" alt="">
                    <h3 class="mercury-result-head">Strengths</h3>
                    <p class="mercury-result-para" id="strengths">Adaptability</p>
                </div>
                <div class="mercury-result-box">
                    <img class="mercury-result-img" src="infographics/images/Weakness.svg" alt="">
                    <h3 class="mercury-result-head">Weakness</h3>
                    <p class="mercury-result-para" id="weakness">Distractibility</p>
                </div>

            </div>
            <!---------- mercury Description ----------->
            <p id="mercury-zodiac-description">You're probably familiar with your sun sign, which is your primary zodiac
                sign, but you may not know
                about your rising sign. Also known as your ascendant sign, your rising sign represents the mask that you
                wear for the world. This is the zodiac sign that was rising over the eastern horizon at the time of your
                birth. Rising signs change every two hours, so you need to know exactly when you came into the world to
                determine your ascendant. Fill out the information below to learn more about the outward impression that
                you give to the world</p>
            <!---------- mercury Description ----------->

            <div id="mercury-jump-btn">
                <a href="#" id="jumplink"><button id="button-jumplink">Continue reading about Mercury in the First House</button></a>
            </div>
            <div id="mercury-divider"><img src="infographics/images/result-border-top.svg" alt="------"
                    loading="lazy"></div>
            <p>It's important to note that Mercury's position cannot be properly analyzed without also considering the planets in your other houses. For an in-depth look at your astrological chart, contact a psychic. This will help you dig deeper and fully understand the influence that all of the planets have on you.
            </p>
            <div id="mercury-divider"><img src="infographics/images/result-border-bottom.svg" alt="------"
                    loading="lazy"></div>

            <div id="mercury-retry">
                <p><span id="mercury-left-arrow"></span>
                    << Start Again</p>
            </div>

            <!-- <div id="mercury-resources">
                        <h4>
                            Resources:
                        </h4>
                        <div class="mercury-resource-links">
                            <a
                                href="https://www.psychicsource.com/astrology/rising-signs/23628" target="_blank">
                                https://www.psychicsource.com/astrology/rising-signs/23628
                            </a>
                            <br>
                            <a
                                href="https://www.allure.com/story/rising-sign-personality-traits-astrology-ascendant-signs" target="_blank">
                                https://www.allure.com/story/rising-sign-personality-traits-astrology-ascendant-signs
                            </a>
                            <br>
                            <a
                                href="https://www.thecut.com/article/what-is-my-rising-ascendant-sign.html" target="_blank">
                                https://www.thecut.com/article/what-is-my-rising-ascendant-sign.html
                            </a>
                        </div>
                    </div> -->
        </div>
        <!--------------------------------- Second Page End---------------------------------->

    </div>
</div>


<script>
    const baseUrl = 'https://api.bloom.be/api';
    const accessToken = "427774|k8QSt9xYqdJad7nb3MDvNl3ajLCt455WJpEgUVVK";

    const mercurySignsDetail = {
        "House 1 (As)": {
            about: "You're curious, intelligent, and an excellent communicator. This makes you the perfect fit for a job teaching, mentoring, or otherwise guiding others. You're deeply philosophical, but you definitely don't embody the vision of a quiet or reserved intellectual. In fact, you're quite entertaining to be around.",
            image: "infographics/images/house-1.svg",
            house:'First House',
            talents: "Memorization, solving puzzles",
            strengths: "Adaptability",
            weaknesses: "Distractibility",
            jumplink:"#mercury_first_house"
        },
        "House 2": {
            about: "You're a deeply intellectual individual with a knack for numbers. You're great with any type of business dealing that involves careful calculations, as math comes very naturally to you. While you can excel at nearly any business project, you need to do it at your own pace and don't respond well to being rushed. You dislike multitasking and prefer to focus on — and thoroughly solve — one problem at a time.",
            image: "infographics/images/house-2.svg",
            house:'Second House',
            talents: "Business and trade",
            strengths: "Communication",
            weaknesses: "Rigidity",
            jumplink:"#mercury_second_house"
        },
        "House 3": {
            about: "You're excellent at communicating, especially in public situations. You're a very influential speaker, so make sure that you take the time to thoughtfully prepare what you'll say so that you lead people in the right direction. This can be hard for you because you like to be on the move and may struggle with a short attention span. You're always drawn to new and exciting pastures, ready to explore the next big thing.",
            image: "infographics/images/house-3.svg",
            house:"Third House",
            talents: "Speaking and writing",
            strengths: "Communication",
            weaknesses: "Gossip",
            jumplink:"#mercury_third_house"
        },
        "House 4": {
            about: "You enjoy spending time at home and thoughtfully maintain a beautiful and harmonious home environment. In fact, your space may be so well-equipped that you've chosen to work from home so you can enjoy its comforts all the time. You enjoy intellectual discussions and debates with your family and encourage creative thinking, though you can be a little set in your ways when it comes to your own beliefs.",
            image: "infographics/images/house-4.svg",
            house:"Fourth House",
            talents: "Maintaining harmony in the family",
            strengths: "Detail-oriented",
            weaknesses: "Opinionated",
            jumplink:"#mercury_fourth_house"
        },
        "House 5": {
            about: "When you speak up, people listen. You have a special knack for making an emotional impact with your words. You're well-suited for a career in public speaking. You're extremely intelligent and have a great sense of humor. People love to listen to you and you're always ready with something interesting to say.",
            image: "infographics/images/house-5.svg",
            house:'Fifth House',
            talents: "Self-expression.",
            strengths: "Influential public speaking",
            weaknesses: "Indecision",
            jumplink:"#mercury_fifth_house"
        },
        "House 6": {
            about: "You're a natural caretaker and love to help others. You're well-suited to a career where you can make a difference hands-on, such as social work, law enforcement, or the medical field. Your attentiveness helps you uncover smart solutions in sticky situations, and you always have an eye to potential complications that makes you very thorough.",
            image: "infographics/images/house-6.svg",
            house:"Sixth House",
            talents: "Conflict resolution",
            strengths: "Organization",
            weaknesses: "Nervousness or tension",
            jumplink:"#mercury_sixth_house"
        },
        "House 7": {
            about: "You make a great partner as you're very conscientious of others. You need to be with people who are intellectually stimulating for you, as you can get bored easily. Look for both romantic and business partners who are sharp-minded and keep you on your toes. It can take you time to find people that you will work with well, but when you do, these partnerships are outstanding.",
            image: "infographics/images/house-7.svg",
            house:'Seventh House',
            talents: "Writing, poetry",
            strengths: "Perceptive",
            weaknesses: "Overanalyzing",
            jumplink:"#mercury_seventh_house"
        },
        "House 8": {
            about: "You're very good at swaying others toward your way of thinking, but you need to be careful with this talent. Make sure you're not leading anyone astray and that your advice always comes with the best of intentions. You have a certain fascination with oddities and love to dig deeper, investigating mysteries that intrigue you.",
            image: "infographics/images/house-8.svg",
            house:"Eighth House",
            talents: "Research and investigation",
            strengths: "Persuading others",
            weaknesses: "Manipulation",
            jumplink:"#mercury_eighth_house"
        },
        "House 9": {
            about: "You have a quick mind and love learning new things. You're especially interested in travel, cultures, and spirituality. You don't hesitate to venture out and explore the unknown which can yield fascinating insights for you. Though you're always absorbing new information, you're not the stolid academic type. You're wildly fun to be around.",
            image: "infographics/images/house-9.svg",
            house:"Ninth House",
            talents: "Problem-solving",
            strengths: "Teaching",
            weaknesses: "Restlessness",
            jumplink:"#mercury_ninth_house"
        },
        "House 10 (MC)": {
            about: "You're skilled in many areas, which keeps your life buzzing with excitement and activity. You've likely held a number of jobs because it's hard for one thing to keep your interest for long. This gives you a very well-rounded background and world view, but it may create some instability. You're best-suited to a career that lets you travel often, so things are always changing within the same job.",
            image: "infographics/images/house-10.svg",
            house:"Tenth House",
            talents: "Negotiating",
            strengths: "Energetic",
            weaknesses: "Instability",
            jumplink:"#mercury_tenth_house"
        },
        "House 11": {
            about: "You're a people person, through and through. You love interacting with others and learning about different lifestyles. You're level-headed and impartial, which makes you a great listener. Others are very attracted to your outstanding social qualities, so it's important for you to think carefully when deciding who to allow in your inner circle.",
            image: "infographics/images/house-11.svg",
            house:"Eleventh House",
            talents: "Science and IT",
            strengths: "Fair-minded",
            weaknesses: "Attracting the wrong friends",
            jumplink:"#mercury_eleventh_house"
        },
        "House 12": {
            about: "When people first meet you, they likely feel that you're a bit dreamy or even disconnected. Absorbed by the emotional energies in your environment, you can seem like you're a million miles away even though you're really just trying to navigate an intensely empathetic experience with a sense of calm. When you do speak up, you pack a powerful punch with your insightful ideas.",
            image: "infographics/images/house-12.svg",
            house:"Tweleth House",
            talents: "Intuition",
            strengths: "Imagination",
            weaknesses: "Subconscious connections to the supernatural",
            jumplink:"#mercury_tweleth_house"
        }
    }

    const inputs = document.querySelector('#mercury-input-container');
    const results = document.querySelector('#mercury-result-container');

    const getPlaces = async (place) => {
        const config = {
            headers: {
                "Authorization": "Bearer " + accessToken,
                "Content-Type": "application/json"
            }
        }
        const data = {
            "name": place
        }
        try {
            const res = await axios.post(`${baseUrl}/places`, data, config);

           // console.log("Places =" + JSON.stringify(res.data));                        // fetch All Country from database

            return res.data;

        } catch (err) {
            console.log(err);
        }
    }



    // give suggestion of places, based on the input
    const placeInput = document.querySelector('input[name="place"]');
    const placeSuggestionBox = document.querySelector('#mercury-place-container');
    let place_id = null;

    placeInput.addEventListener('keyup', async () => {
        const placeValue = placeInput.value;
        let places;
        if (placeValue.length > 1) {
            try {
                places = await getPlaces(placeValue);
            } catch (err) {
                console.log(err);
                return alert('API is not responsing right now. Please try again later.');
            }
            placeSuggestionBox.innerHTML = '';

            if (places.data.length > 0) {
                const placeContainer = document.createElement('ul');                   // Creating Birthplace <ul> - Dropdown
                placeContainer.id = 'mercury-place-suggestions';

                places.data.forEach(place => {
                    const placeName = place.name;                                      // Fetch Birthplace <li> - Dropdown
                    const country_code = place.admin1_code;
                    const timezone = place.timezone;
                    const placeId = place.id;

                    const placeOption = document.createElement('li');
                    placeOption.id = placeId;
                    placeOption.innerHTML = `${placeName}, ${country_code}, ${timezone}`;
                    placeContainer.appendChild(placeOption);
                })
                placeSuggestionBox.appendChild(placeContainer);
            }
        } else {
            placeSuggestionBox.innerHTML = '';
        }
    });


    //     Final Trigger after Birthplace Selection
    placeSuggestionBox.addEventListener('click', async (e) => {
        place_id = e.target.id;
        const placeName = e.target.innerText.split(',')[0];
        const country_code = e.target.innerText.split(',')[1];
        const timezone = e.target.innerText.split(',')[2];

        placeInput.value = `${placeName},${country_code}`;                      // Finally User Selected in <li> dropdown 
        placeSuggestionBox.innerHTML = '';
    })


    const getNatalHoroscope = async (name, date, time, place_id) => {
        // name: String
        // date: String (YYYY-MM-DD)
        // time: String (HH:MM)
        // place_id: Number

        const config = {
            headers: {
                "Authorization": "Bearer " + accessToken,
                "Content-Type": "application/json"
            }
        }
        const data = {
            "name": name,
            "date": date,
            "time": time,
            "place_id": place_id,
            "lang": "en"
        }
        const res = await axios.post(`${baseUrl}/natal`, data, config);

        console.log("After Submit Result == " + JSON.stringify(res.data));             // Fetch mercury Details as an Json Format.

        return res.data
    }


    // Get mercurySign From Database
    const getmercurySign = async (name, date, time, place_id) => {
        // name: String
        // date: String (YYYY-MM-DD)
        // time: String (HH:MM)
        // place_id: Number

        const horoscope = await getNatalHoroscope(name, date, time, place_id);    //fetch mercury Details from Database
        const mercurySign = horoscope.ascendant.signName;

        /****** Find  House details ******/
        const mercurySignId = horoscope.ascendant.signId;
        console.log("mercurySignId ="+mercurySignId);
        const housedetails = horoscope.housecusps;
        for(let h=0; h<housedetails.length;h++){
            if(housedetails[h].signId == mercurySignId){
              var finalHoseId = housedetails[h].houseName;
            } 
            console.log("houseSignId ="+housedetails[h].signId);
                
        }
        
        console.log(finalHoseId);
        /****** Find House details ******/

        console.log("mercurySign == " + mercurySign);

        return finalHoseId;
         //return mercurySign;
    }

    const addResult = async (data) => {
        const mercurySign = await getmercurySign(data.name, data.date, data.time, data.place_id);     // Get mercurySign
        
        //const sign = document.querySelector('#mercury-mercury-sign');
        //sign.innerHTML = `${mercurySign} Rising`;
        const house = mercurySignsDetail[mercurySign].house;
        const houseName = document.querySelector('#mercury-main-heading');                      // Get Heading Houses 
        houseName.innerHTML = `Mercury in the ${house}`;

        const signDetails = document.querySelector('#mercury-zodiac-description');               // Get Description 
        signDetails.innerHTML = mercurySignsDetail[mercurySign].about;   
        
        const fetch_talents = document.querySelector('#talents');                         // Get talents 
        fetch_talents.innerHTML = mercurySignsDetail[mercurySign].talents;

        const fetch_strengths = document.querySelector('#strengths');                         // Get strengths 
        fetch_strengths.innerHTML = mercurySignsDetail[mercurySign].strengths;

        const fetch_weakness = document.querySelector('#weakness');                         // Get weakness 
        fetch_weakness.innerHTML = mercurySignsDetail[mercurySign].weaknesses;

        
        const fetch_jumplink = document.querySelector('#jumplink');                         // Get Jumplink 
        fetch_jumplink.href = mercurySignsDetail[mercurySign].jumplink;      

        const button_jumplink = document.querySelector('#button-jumplink');                         // Get Button Jumplink 
        button_jumplink.innerHTML = `Continue reading about Mercury in the ${house}`;   
        

        const signImage = document.querySelector('#mercury-zodiac-sign-image');                 // Get Image
        const image = document.createElement('img');
        image.src = mercurySignsDetail[mercurySign].image;
        signImage.appendChild(image);

        // Change Second page BG image
        document.getElementById('mercury-calculator').style.backgroundImage = "url('infographics/images/BG-2.jpg')";  
        return Promise.resolve();
    }

    function addYears(startingYear, endingYear = null) {
        if (endingYear === null) {
            d = new Date();
            endingYear = d.getFullYear();
        }
        const years = [];
        for (let i = endingYear; i > startingYear; i--) {
            years.push(i);
        }

        const yearSelect = document.querySelector('#mercury-year');
        years.forEach(year => {
            const option = document.createElement('option');
            option.value = year;
            option.innerHTML = year;
            yearSelect.appendChild(option);
        })
    }

    function convertTime12to24(hour, minute, period) {
        let time = null;
        if (period === 'am') {
            time = `${hour}:${minute}`;
        } else {
            time = `${parseInt(hour) + 12}:${minute}`;
        }
        return time;
    }







    ///----------------- Reset Button ------------------
    const resetForm = () => {
        const form = document.querySelector('#mercury-horoscope-form');
        form.reset();
        const sign = document.querySelector('#mercury-main-heading');
        sign.innerHTML = '';

        document.getElementById('mercury-calculator').style.backgroundImage = "url('infographics/images/BG-1.jpg')";  

        const signDetails = document.querySelector('#mercury-zodiac-description');
        signDetails.innerHTML = '';
        const signImage = document.querySelector('#mercury-zodiac-sign-image');
        signImage.innerHTML = '';
        const button = form.querySelector('input[type="submit"]');
        button.disabled = true;
        place_id = null;
    }

    const loader = document.querySelector('.mercury-loader');
    const figureBox = loader.querySelector('figure');
    let stopLoading = false;


    // Change images Dynamically 
    const addImg = (src) => {
        const img = document.createElement('img');
        img.src = src;
        figureBox.innerHTML = img.outerHTML;
    }

    // Push All images to Srcs Array
    let srcs = [];
    for (let zodiac in mercurySignsDetail) {
        srcs.push(mercurySignsDetail[zodiac].image);
    }

    function sleep(seconds) {
        return new Promise(resolve => setTimeout(resolve, seconds * 1000));
    }

    const changeImages = async (seconds) => {
        loader.classList.remove('anime-hidden');
        for (let i = 0; i < srcs.length; i++) {
            if (stopLoading) {
                figureBox.innerHTML = '';
                loader.classList.add('anime-hidden');
                return;
            }
            addImg(srcs[i]);
            await sleep(seconds);
        }
        changeImages();
    }

    const toggle = () => {
        const inputs = document.querySelector('#mercury-input-container');
        const results = document.querySelector('#mercury-result-container');

        inputs.classList.toggle('mercury-hidden');
        results.classList.toggle('mercury-hidden');
    }

    // Start images loading randomally
    const startLoading = () => {
        changeImages(0.2);
    }

    // Stop images loading randomally
    const stopLoad = async () => {
        stopLoading = true;
        await sleep(0.2);
        stopLoading = false;
    }

    // get form details
    const form = document.querySelector('#mercury-horoscope-form');

    setInterval(() => {
        const formData = new FormData(form);
        const name = formData.get('name') || 'Zephyrus';
        const day = formData.get('day');
        const month = formData.get('month');
        const year = formData.get('year');
        const hour = formData.get('hour');
        const minute = formData.get('minute');
        const phase = formData.get('phase');

        const button = form.querySelector('input[type="submit"]');

        if (day && month && year && hour && minute && phase && place_id) {
            button.disabled = false;
        }

    }, 500);


    // Button Trigger
    form.addEventListener('submit', async (e) => {
        e.preventDefault();
        //alert('button trigger');
        const formData = new FormData(form);
        const name = formData.get('name') || 'Zephyrus';
        const day = formData.get('day');
        const month = formData.get('month');
        const year = formData.get('year');
        const hour = formData.get('hour');
        const minute = formData.get('minute');
        const phase = formData.get('phase');


        if (place_id === null) {
            const place = formData.get('place').split(',')[0];

            const places = await getPlaces(place);
            place_id = places.data[0].id;

        }

        const data = {
            "name": name,
            "date": `${year}-${month}-${day}`,
            "time": convertTime12to24(hour, minute, phase),
            "place_id": place_id
        }
        if (checkStatus()) {
            inputs.classList.toggle('mercury-hidden');
            startLoading();
            await addResult(data);
            await stopLoad();
            results.classList.toggle('mercury-hidden');
        } else {
            alert('Please check your internet connection');
        }
    });

    const retryButton = document.querySelector('#mercury-retry>p');
    retryButton.addEventListener('click', () => {
        resetForm();
        toggle();
    })

    addYears(1900);
    resetForm();

    // Check if user is connected to internet

    const request_url = 'https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js';

    async function checkStatus() {
        let res = null;
        let status = null;
        try {
            res = await fetch(request_url);
            status = res.status;
        } catch (err) {
            console.log(err);
        }

        if (status >= 200 && status < 300) {
            await sleep(1)
            return true;
        } else {
            alert('Check your internet connection');
            await sleep(10);
        }
        checkStatus();
    }

    checkStatus();


</script>